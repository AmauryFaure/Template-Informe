var last_version="$VERSION";var last_version_link="$VERSION_LINK";var new_version_entry="";var pdf_href_lastv="";var total_downloads=0;var version_entries=[];jQuery(document).ready(function(b){writeBadges();try{acolor=shadeColor2(wallpaper_db.color,0.3)}catch(c){wallpaper_db.color="#000000";acolor=shadeColor2(wallpaper_db.color,0.3);console.log("Error crítico al obtener el color del wallpaper (wallpaper.db)")}finally{}backgroundmaincolor=shadeColor2(wallpaper_db.color,0.98);bgprecolor=shadeColor2(wallpaper_db.color,0.9);codebarcolor=shadeColor2(wallpaper_db.color,0.4);codeprecolor=shadeColor2(wallpaper_db.color,0.2);hrcolor=shadeColor2(wallpaper_db.color,0.7);pacecolor=shadeColor2(wallpaper_db.color,0.15);var f=b.getJSON(href_json_releases,function(h){total_downloads=0;for(e=0;e<h.length;e++){try{for(j=0;j<h[e].assets.length;j++){total_downloads+=parseInt(h[e].assets[j].download_count);version_entries.push(h[e].tag_name)}}catch(k){console.log(String.format("Error al obtener la cantidad de descargas del archivo {0}",h[e].name))}}try{last_version=h[0].tag_name;last_version_link=h[0].assets[0].browser_download_url;last_version_link_1=h[0].assets[1].browser_download_url;if(last_version_link.includes("-Single")){normal_link=last_version_link_1;compact_link=last_version_link}else{normal_link=last_version_link;compact_link=last_version_link_1}console.log(String.format("Última versión template: {0}",last_version))}catch(k){throwError(errors.cantGetVersion)}if(total_downloads==0){total_downloads=nan_value}else{updateDownloadCounter(total_downloads,update_download_counter);j="";for(var e=0;e<download_list_counter.length;e++){j=download_list_counter[e][1];if(version_entries.indexOf(j)==-1){if(Array.isArray(download_list_counter[e][0])){total_downloads+=download_list_counter[e][0][0]+download_list_counter[e][0][1]}else{total_downloads+=download_list_counter[e][0]}}}}update_download_banner(total_downloads);b("#main-content-section #templatestats").attr("href",stats_href+stats_name);if(update_download_counter=="Template-Informe"){b("a[name*=leanModal]").leanModal({closeButton:".modal_close"});normal_link=String.format("{0}download/{1}/Template-Informe.zip",href_github_project,last_version);b("#download-button-1file").append(String.format(' <font id="buttonfile1text">(v{0}) <img src="{1}/zip.png" class="iconbutton" /></font>',last_version,href_resources_folder));b("#download-button").attr("href",normal_link);b("#download-button").append(String.format(' <font id="buttonfilectext">(v{0}) <img src="{1}/zip.png" class="iconbutton" /></font>',last_version,href_resources_folder));writeOtherLinks(last_version)}else{b("#download-button-1file").attr("href",compact_link);b("#download-button-1file").append(String.format(' <font id="buttonfilectext">(v{0}) <img src="{1}/zip.png" class="iconbutton" /></font>',last_version,href_resources_folder));b("#download-button").attr("href",normal_link);b("#download-button").append(String.format(' <font id="buttonfile1text">(v{0}) <img src="{1}/zip.png" class="iconbutton" /></font>',last_version,href_resources_folder));b("#download-button-1file").click(function(){if(total_downloads!=nan_value){total_downloads+=1;update_download_banner(total_downloads)}})}fadein_css("#total-download-counter-1","0.1s");fadein_css("#total-download-counter-2","0.1s");b("#buttonfile1text").fadeIn("slow");b("#buttonfilectext").fadeIn("slow");pdf_href_lastv=pdf_js_href+String.format(href_pdf_version,last_version);b("#template-preview-pdf").attr("href",pdf_href_lastv);b(".badgeejemplopdf").attr("href",pdf_href_lastv);b("#github-button-header").attr("href",href_github_project_source);whats_new_html="<div id='que-hay-de-nuevo-version-title'>{0}</div><blockquote class='que-hay-de-nuevo-blockquote'>{1}</blockquote>";whats_new_versions=Math.min(changelog_max,h.length);md_converter=new showdown.Converter();show_github_button=(whats_new_versions==changelog_max);try{for(e=0;e<whats_new_versions;e++){version_created_at=h[e].created_at.substring(0,10);title_new_version=String.format('<b>Versión <a href="{2}"">{0}</b></a>: <i class="fecha-estilo">{1}</i>',h[e].tag_name,version_created_at,h[e].html_url);content_version=md_converter.makeHtml(h[e].body);new_version_entry+=String.format(whats_new_html,title_new_version,content_version);if(e<whats_new_versions-1&&changelog_show_hr){new_version_entry+='<hr class="style1">'}}if(show_github_button){new_version_entry+=String.format("Puedes ver la lista de cambios completa <a href='{0}'>en Github<img src='{1}/github.png' width='16' height='' class='iconbutton' alt='' /></a>",href_github_project,href_resources_folder)}b("#que-hay-de-nuevo").html(new_version_entry);b(".main-content hr").css("background-color",hrcolor);b(".que-hay-de-nuevo-blockquote").css("border-left","0.25rem solid "+codebarcolor)}catch(k){throwError(errors.retrieveContentVersions)}afterJSONLoad()});f.fail(function(){throwError(errors.cantLoadJson)});b("#background-page-header-colored").css("background-color",wallpaper_db.color);b("#background-page-header-colored").fadeIn("slow");b(".back-to-top").css("background-color",wallpaper_db.color);b(".main-content h1").css("color",wallpaper_db.color);b(".main-content h2").css("color",wallpaper_db.color);b(".main-content h3").css("color",wallpaper_db.color);b(".main-content h4").css("color",wallpaper_db.color);b(".main-content h5").css("color",wallpaper_db.color);b(".main-content h6").css("color",wallpaper_db.color);b(".menu-big-entry").css("color",wallpaper_db.color);b(".menu-little-entry").css("color",wallpaper_db.color);b(".que-hay-de-nuevo-blockquote h3").css("color",wallpaper_db.color);b(".section-template").css("color",wallpaper_db.color);b(".main-content hr").css("background-color",hrcolor);b(".main-content blockquote").css("border-left","0.25rem solid "+codebarcolor);b(".main-content blockquote").css("color",codeprecolor);b(".main-content pre").css("background-color",bgprecolor);b(".main-content pre").css("border","solid 1px "+codeprecolor);b(".main-content").css("background-color",backgroundmaincolor);b("#contentBackground").css("background-color",backgroundmaincolor);b("body").css("background-color",backgroundmaincolor);b("#que-hay-de-nuevo blockquote").css("border-left","0.25rem solid "+codebarcolor);var d=false;if(/Mobi/.test(navigator.userAgent)){d=true;console.log("Utilizando versión móvil")}else{console.log("Utilizando versión web")}if(!d&&enableparallax){b("#background-page-header").parallax({imageSrc:wallpaper_db.image,speed:0.15,positionY:wallpaper_db.position,positionX:"center",zIndex:1});console.log("Se activó el parallax")}else{try{var a=new Image();console.log(String.format("Cargando fondo {0} - ID {1} (wallpaper.db)",wallpaper_db.image,wallpaper_db.index));a.onload=function(){b("#background-page-header").css({background:wallpaper_db.color+" url("+wallpaper_db.image+") "+wallpaper_db.position+" no-repeat fixed","background-attachment":"fixed",});b("#background-page-header").css("-webkit-background-size","cover");b("#background-page-header").css("-moz-background-size","cover");b("#background-page-header").css("-o-background-size","cover");b("#background-page-header").css("background-size","cover");b("#background-page-header").css("max-width","100%");b("#background-page-header").css("width",b(window).width()+20);fadein_css("#background-page-header","0.5s");wallpaper_db_random_blur("#background-page-header",blurprobability,blurlimits)};a.src=wallpaper_db.image}catch(c){console.log("Error crítico al obtener la imagen del wallpaper (wallpaper.db)")}finally{}}if(changepacecolor){b(".pace .pace-progress").css("background",pacecolor);b(".pace .pace-activity").css("border-top-color",codeprecolor);b(".pace .pace-activity").css("border-left-color",codeprecolor);b(".pace .pace-progress-inner").css("box-shadow","0 0 10px "+bgprecolor+", 0 0 5px "+bgprecolor+";")}b(window).resize(function(){b("#background-page-header").css("width",b(window).width()+20)});b("total-download-counter").each(function(){this.id.innerHTML=total_downloads});b("#download-button").click(function(){if(total_downloads!=nan_value){total_downloads+=1;update_download_banner(total_downloads)}});var g=600;b(window).scroll(function(){location.pathname.replace(/^\//,"");if(b(window).scrollTop()>g){b("a.back-to-top").fadeIn("slow")}else{b("a.back-to-top").fadeOut("slow")}});b('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=b(this.hash);e=e.length?e:b("[name="+this.hash.slice(1)+"]");if(e.length){b("html, body").animate({scrollTop:e.offset().top},700);return false}}});b("#chatgitter").attr("href",gitter_href+update_download_counter);afterDocumentReady()});